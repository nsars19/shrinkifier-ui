(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{12:function(e,t,n){e.exports={link:"ZipDownload_link__1RjXH",linkWrap:"ZipDownload_linkWrap__YafmD",dlWrap:"ZipDownload_dlWrap__3MGyZ"}},13:function(e,t,n){e.exports={button:"SubmitFiles_button__35Asu",outline:"SubmitFiles_outline__176xs",buttonContainer:"SubmitFiles_buttonContainer__1XsmP"}},14:function(e,t,n){e.exports={loadWrap:"Loader_loadWrap__1x67o",border:"Loader_border__gqq8k",icon:"Loader_icon__3dCIC",spin:"Loader_spin__1X-nh"}},16:function(e,t,n){e.exports={list:"FileList_list__3IaGs",listWrap:"FileList_listWrap__3laGr"}},18:function(e,t,n){e.exports={info:"FileInfo_info__2lSWD",infoWrap:"FileInfo_infoWrap__2fsCB"}},19:function(e,t,n){e.exports={label:"FileInput_label__3etJ-",icon:"FileInput_icon__12Som"}},21:function(e,t,n){e.exports={message:"ErrorMessage_message__qjfBA",errorWrap:"ErrorMessage_errorWrap__1snZB"}},4:function(e,t,n){e.exports={optionsWrap:"Options_optionsWrap__2GMap",select:"Options_select__2gdDD",label:"Options_label__3FhOh",input:"Options_input__1vXfU"}},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(23),i=n.n(s),c=n(5),o=n(24),l=n.n(o),u=n(16),p=n.n(u),j=n(25),b=n(1);function d(e){var t=e.files,n=e.setFiles,r=e.setTotalSize,a=function(e){return e.reduce((function(e,t){return e+t.size}),0)},s=function(e){return function(){var s=t.filter((function(t){return t.name!==e}));n(s),r({pre:a(s),post:0})}};return Object(b.jsx)("section",{className:p.a.listWrap,children:Object(b.jsx)("ul",{className:p.a.list,children:t.map((function(e){var t=e.name;return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:t}),Object(b.jsx)("span",{onClick:s(t),children:Object(b.jsx)(j.a,{})})]},l()())}))})})}var f=n(17),O=n.n(f),x=n(18),h=n.n(x);function m(e){var t=e.fileSize,n=t.pre,r=t.post,a=parseFloat((n-r)/n*100).toFixed(2),s=Object(b.jsx)("p",{children:r?"processed total: "+O()(r):""}),i=Object(b.jsx)("p",{children:n?"preprocessed total: "+O()(n):""});return Object(b.jsx)("section",{className:h.a.infoWrap,children:Object(b.jsxs)("div",{className:h.a.info,style:{display:n?"block":"none"},children:[i,s,a>0?Object(b.jsx)("p",{children:n&&r?"The files are ".concat(a,"% smaller!"):""}):Object(b.jsx)("p",{children:n&&r?"The files are ".concat(-1*a,"% larger!"):""})]})})}var _=n(12),g=n.n(_);function v(e){var t=e.file;return Object(b.jsx)("section",{className:g.a.dlWrap,style:{display:t.length?"grid":"none"},children:t.map((function(e){return Object(b.jsx)("div",{className:g.a.linkWrap,children:Object(b.jsx)("a",{href:e,className:g.a.link,download:"tinified.zip",children:e?"Download Files":""})},Date.now())}))})}var y=n(30),W=n(19),N=n.n(W),F=n(11);function D(e){var t=e.setTotalSize,n=e.setErrorMsg,r=e.setFiles,a=e.clearDownload,s=function(e){return function(e){return Object(y.a)(e)}(e).slice(0,50)},i=function(e){return s(e).reduce((function(e,t){return e+t.size}),0)},c=function(e){return e.preventDefault()};return Object(b.jsxs)("label",{htmlFor:"file-input",onDragOver:c,onDrop:function(e){e.preventDefault();var c=e.dataTransfer.files;r((function(e){return e.concat(s(c)).slice(0,50)})),t((function(e){return{pre:e.pre+i(c),post:0}})),n(""),a()},onDropCapture:c,className:N.a.label,children:[Object(b.jsx)(F.a,{className:N.a.icon}),Object(b.jsx)("h2",{children:"Drag your .jpg, .png, .gif, .webp files here"}),Object(b.jsx)("input",{id:"file-input",onChange:function(e){var c=e.target.files;r(s(c)),t({pre:i(c),post:0}),n(""),a()},type:"file",multiple:!0,accept:".png,.jpg,.jpeg,.gif,.webp"})]})}var w=n(3),S=n(8),k=n.n(S),z=n(26),E=n(20),C=n(13),T=n.n(C),M=n(27);function q(e){var t=e.files,n=e.setErrorMsg,r=e.setTotalSize,a=e.setFileDownload,s=e.processing,i=e.setProcessing,c=e.options,o=e.setError,l=e.zip,u=function(){var e=Object(E.a)(k.a.mark((function e(t){var n,r,a,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={maxWidthOrHeight:parseInt(c.maxDimension)||720,fileType:"image/".concat(c.format||"jpeg"),initialQuality:parseFloat(c.quality)||.8},r=Object(z.a)(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return s=a.value,e.next=8,Object(M.a)(s,n).then((function(e){var t=e.name.split(".")[0],n=".".concat(c.format||"jpeg");l.file(t+n,e)}));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(E.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.every((function(e){return"image"===e.type.split("/")[0]}))){e.next=5;break}return n("You can only upload images. Please remove anything besides image files."),e.abrupt("return");case 5:if(0!==t.length){e.next=8;break}return n("Try adding some images first!"),e.abrupt("return");case 8:return n(""),i(!0),e.prev=10,e.next=13,u(t);case 13:l.generateAsync({type:"blob"}).then((function(e){r((function(t){return Object(w.a)(Object(w.a)({},t),{},{post:e.size})}));var t=URL.createObjectURL(e);a([t]),i(!1)})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),o(!0);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("section",{className:T.a.buttonContainer,children:Object(b.jsx)("div",{className:T.a.outline,children:Object(b.jsx)("button",{onClick:p,className:T.a.button,disabled:s,children:"Compress Images"})})})}var I=n(21),L=n.n(I);function P(e){var t=e.msg;return Object(b.jsx)("section",{className:L.a.errorWrap,style:{display:t?"flex":"none"},children:Object(b.jsx)("p",{className:L.a.message,children:t})})}var Z=n(14),X=n.n(Z);function A(e){var t=e.loading;return Object(b.jsx)("section",{className:X.a.loadWrap,style:{display:t?"grid":"none"},children:Object(b.jsx)("div",{className:X.a.border,children:Object(b.jsx)(F.b,{className:X.a.icon})})})}var B=n(4),G=n.n(B),Q=["",10,20,30,40,50,60,64,90,100,120,125,200,300,360,420,440,468,600,720,768,800,900,1080,1280,1920],H=function(e){return{top:e?"-10px":"14px",left:e?"4px":"8px"}};function J(e){var t=e.options,n=e.setOptions,r=t.quality,a=t.format,s=t.maxDimension;return Object(b.jsxs)("section",{className:G.a.optionsWrap,children:[Object(b.jsx)("span",{children:Object(b.jsxs)("label",{className:G.a.label,htmlFor:"fileOptions",children:[Object(b.jsxs)("select",{onChange:function(e){n((function(t){return Object(w.a)(Object(w.a)({},t),{},{format:e.target.value})}))},id:"fileOptions",name:"fileOptions",className:G.a.select,value:a,children:[Object(b.jsx)("option",{}),Object(b.jsx)("option",{children:"jpeg"}),Object(b.jsx)("option",{children:"webp"}),Object(b.jsx)("option",{children:"png"})]}),Object(b.jsx)("p",{style:H(a),children:"File Type"})]})}),Object(b.jsx)("span",{children:Object(b.jsxs)("label",{className:G.a.label,htmlFor:"inputQuantity",children:[Object(b.jsx)("select",{onChange:function(e){n((function(t){return Object(w.a)(Object(w.a)({},t),{},{quality:e.target.value})}))},id:"inputQuantity",name:"quantity",className:G.a.select,value:r,children:function(){for(var e=[Object(b.jsx)("option",{},"null")],t=10;t<=100;t+=10)e.push(Object(b.jsx)("option",{value:t/100,children:t},t));return e}()}),Object(b.jsx)("p",{style:H(r),children:"Quality"})]})}),Object(b.jsx)("span",{children:Object(b.jsxs)("label",{className:G.a.label,htmlFor:"selectedWidth",children:[Object(b.jsx)("select",{onChange:function(e){n((function(t){return Object(w.a)(Object(w.a)({},t),{},{maxDimension:e.target.value||""})}))},value:s,className:G.a.input,id:"selectedWidth",name:"width",min:"25",max:"2000",filled:s,children:Q.map((function(e){return Object(b.jsx)("option",{children:e},e)}))}),Object(b.jsx)("p",{style:H(s),children:"Max Size(px)"})]})})]})}var R=n(28),U=n(9),Y=n.n(U),K=function(){return Object(b.jsx)("section",{className:Y.a.sectionWrap,children:Object(b.jsxs)("div",{className:Y.a.contentWrap,children:[Object(b.jsx)(R.a,{className:Y.a.icon}),Object(b.jsx)("h1",{className:Y.a.header,children:"Something went wrong!"})]})})};function V(e){var t=e.children;return e.hasError?Object(b.jsx)(K,{}):t}var $=n(29),ee=n.n($);var te=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),i=Object(c.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)({pre:0,post:0}),p=Object(c.a)(u,2),j=p[0],f=p[1],O=Object(r.useState)(""),x=Object(c.a)(O,2),h=x[0],_=x[1],g=Object(r.useState)(!1),y=Object(c.a)(g,2),W=y[0],N=y[1],F=Object(r.useState)(!1),w=Object(c.a)(F,2),S=w[0],k=w[1],z=Object(r.useState)({maxDimension:"",format:"",quality:""}),E=Object(c.a)(z,2),C=E[0],T=E[1],M=new ee.a;return Object(b.jsxs)(V,{hasError:S,children:[Object(b.jsx)(D,{setTotalSize:f,setErrorMsg:_,setFiles:a,clearDownload:function(){return l([])}}),Object(b.jsx)(J,{options:C,setOptions:T}),Object(b.jsx)(q,{files:n,setErrorMsg:_,setTotalSize:f,setFileDownload:l,processing:W,setProcessing:N,options:C,setError:k,zip:M}),Object(b.jsx)(v,{file:o}),Object(b.jsx)(m,{fileSize:j}),Object(b.jsx)(P,{msg:h}),Object(b.jsx)(d,{files:n,setFiles:a,setTotalSize:f}),Object(b.jsx)(A,{loading:W})]})};n(43);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(te,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={sectionWrap:"ErrorPage_sectionWrap__lZ8A1",contentWrap:"ErrorPage_contentWrap__3tXZj",header:"ErrorPage_header__1Dp0x",icon:"ErrorPage_icon__38Hnq"}}},[[44,1,2]]]);
//# sourceMappingURL=main.63641dd5.chunk.js.map