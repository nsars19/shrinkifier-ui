(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],[,,,,function(e,t,n){e.exports={optionsWrap:"Options_optionsWrap__2GMap",select:"Options_select__2gdDD",label:"Options_label__3FhOh",input:"Options_input__1vXfU"}},,,function(e,t,n){e.exports={sectionWrap:"ErrorPage_sectionWrap__5Qamu",contentWrap:"ErrorPage_contentWrap__UI7Em",header:"ErrorPage_header__LfnzJ",icon:"ErrorPage_icon__bh1ku"}},,,function(e,t,n){e.exports={link:"ZipDownload_link__1RjXH",linkWrap:"ZipDownload_linkWrap__YafmD",dlWrap:"ZipDownload_dlWrap__3MGyZ"}},function(e,t,n){e.exports={button:"SubmitFiles_button__35Asu",outline:"SubmitFiles_outline__176xs",buttonContainer:"SubmitFiles_buttonContainer__1XsmP"}},function(e,t,n){e.exports={loadWrap:"Loader_loadWrap__1x67o",border:"Loader_border__gqq8k",icon:"Loader_icon__3dCIC",spin:"Loader_spin__1X-nh"}},,function(e,t,n){e.exports={list:"FileList_list__3IaGs",listWrap:"FileList_listWrap__3laGr"}},,function(e,t,n){e.exports={info:"FileInfo_info__2lSWD",infoWrap:"FileInfo_infoWrap__2fsCB"}},function(e,t,n){e.exports={label:"FileInput_label__3etJ-",icon:"FileInput_icon__12Som"}},,function(e,t,n){e.exports={message:"ErrorMessage_message__qjfBA",errorWrap:"ErrorMessage_errorWrap__1snZB"}},,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),a=n(20),i=n.n(a),c=n(5),o=n(21),l=n.n(o),u=n(14),p=n.n(u),j=n(22),b=n(1);function d(e){var t=e.files,n=e.setFiles,r=e.setTotalSize,s=function(e){return e.reduce((function(e,t){return e+t.size}),0)},a=function(e){return function(){var a=t.filter((function(t){return t.name!==e}));n(a),r({pre:s(a),post:0})}};return Object(b.jsx)("section",{className:p.a.listWrap,children:Object(b.jsx)("ul",{className:p.a.list,children:t.map((function(e){var t=e.name;return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:t}),Object(b.jsx)("span",{onClick:a(t),children:Object(b.jsx)(j.a,{})})]},l()())}))})})}var f=n(15),h=n.n(f),O=n(16),x=n.n(O);function m(e){var t=e.fileSize,n=t.pre,r=t.post,s=parseFloat((n-r)/n*100).toFixed(2),a=Object(b.jsx)("p",{children:r?"processed total: "+h()(r):""}),i=Object(b.jsx)("p",{children:n?"preprocessed total: "+h()(n):""});return Object(b.jsx)("section",{className:x.a.infoWrap,children:Object(b.jsxs)("div",{className:x.a.info,style:{display:n?"block":"none"},children:[s>0?Object(b.jsx)("p",{children:n&&r?"The files are ".concat(s,"% smaller!"):""}):Object(b.jsx)("p",{children:n&&r?"The files are ".concat(-1*s,"% larger!"):""}),a,i]})})}var _=n(10),g=n.n(_);function v(e){var t=e.file;return Object(b.jsx)("section",{className:g.a.dlWrap,style:{display:t.length?"grid":"none"},children:t.map((function(e){return Object(b.jsx)("div",{className:g.a.linkWrap,children:Object(b.jsx)("a",{href:e,className:g.a.link,children:e?"Download Files":""})},Date.now())}))})}var y=n(25),N=n(17),W=n.n(N),F=n(9);function w(e){var t=e.setTotalSize,n=e.setErrorMsg,r=e.setFiles,s=e.clearDownload,a=function(e){return function(e){return Object(y.a)(e)}(e).slice(0,50)},i=function(e){return a(e).reduce((function(e,t){return e+t.size}),0)},c=function(e){return e.preventDefault()};return Object(b.jsxs)("label",{htmlFor:"file-input",onDragOver:c,onDrop:function(e){e.preventDefault();var c=e.dataTransfer.files;r((function(e){return e.concat(a(c)).slice(0,50)})),t((function(e){return{pre:e.pre+i(c),post:0}})),n(""),s()},onDropCapture:c,className:W.a.label,children:[Object(b.jsx)(F.a,{className:W.a.icon}),Object(b.jsx)("h2",{children:"Drag your .jpg, .png, .gif, .webp files here"}),Object(b.jsx)("input",{id:"file-input",onChange:function(e){var c=e.target.files;r(a(c)),t({pre:i(c),post:0}),n(""),s()},type:"file",multiple:!0,accept:".png,.jpg,.jpeg,.gif,.webp"})]})}var S=n(18),D=n.n(S),k=n(3),E=n(23),C=n(11),z=n.n(C);function T(e){var t=e.files,n=e.setErrorMsg,r=e.setTotalSize,s=e.setFileDownload,a=e.processing,i=e.setProcessing,c=e.options,o=e.setError,l=function(){var e=Object(E.a)(D.a.mark((function e(){var a,l,u,p,j;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.every((function(e){return"image"===e.type.split("/")[0]}))){e.next=5;break}return n("You can only upload images. Please remove anything besides image files."),e.abrupt("return");case 5:if(0!==t.length){e.next=8;break}return n("Try adding some images first!"),e.abrupt("return");case 8:return n(""),i(!0),(a=new FormData).append("options",JSON.stringify(c)),t.forEach((function(e){return a.append("files",e)})),e.next=15,fetch("https://young-oasis-86497.herokuapp.com/api/compress",{method:"post",mode:"cors",body:a});case 15:if(500!==(l=e.sent).status){e.next=20;break}o(!0),e.next=28;break;case 20:return e.next=22,l.blob();case 22:u=e.sent,p=new File([u],"tinified.zip",{type:"application/zip"}),j=URL.createObjectURL(p),r((function(e){return Object(k.a)(Object(k.a)({},e),{},{post:u.size})})),s([j]),i(!1);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("section",{className:z.a.buttonContainer,children:Object(b.jsx)("div",{className:z.a.outline,children:Object(b.jsx)("button",{onClick:l,className:z.a.button,disabled:a,children:"Compress Images"})})})}var I=n(19),L=n.n(I);function M(e){var t=e.msg;return Object(b.jsx)("section",{className:L.a.errorWrap,style:{display:t?"flex":"none"},children:Object(b.jsx)("p",{className:L.a.message,children:t})})}var P=n(12),q=n.n(P);function J(e){var t=e.loading;return Object(b.jsx)("section",{className:q.a.loadWrap,style:{display:t?"grid":"none"},children:Object(b.jsx)("div",{className:q.a.border,children:Object(b.jsx)(F.b,{className:q.a.icon})})})}var Z=n(4),B=n.n(Z),G=["",10,20,30,40,50,60,64,90,100,120,125,200,300,360,420,440,468,600,720,768,800,900,1080,1280,1920],H=function(e){return{top:e?"-10px":"14px",left:e?"4px":"8px"}};function Q(e){var t=e.options,n=e.setOptions,r=t.quality,s=t.format,a=t.height,i=t.width,c=function(){return G.map((function(e){return Object(b.jsx)("option",{children:e},e)}))};return Object(b.jsxs)("section",{className:B.a.optionsWrap,children:[Object(b.jsx)("span",{children:Object(b.jsxs)("label",{className:B.a.label,htmlFor:"fileOptions",children:[Object(b.jsxs)("select",{onChange:function(e){n((function(t){return Object(k.a)(Object(k.a)({},t),{},{format:e.target.value})}))},id:"fileOptions",name:"fileOptions",className:B.a.select,value:s,children:[Object(b.jsx)("option",{}),Object(b.jsx)("option",{children:"jpeg"}),Object(b.jsx)("option",{children:"webp"}),Object(b.jsx)("option",{children:"png"})]}),Object(b.jsx)("p",{style:H(s),children:"File Type"})]})}),Object(b.jsx)("span",{children:Object(b.jsxs)("label",{className:B.a.label,htmlFor:"inputQuantity",children:[Object(b.jsx)("select",{onChange:function(e){n((function(t){return Object(k.a)(Object(k.a)({},t),{},{quality:e.target.value})}))},id:"inputQuantity",name:"quantity",className:B.a.select,value:r,children:function(){for(var e=[Object(b.jsx)("option",{},"null")],t=10;t<=100;t+=10)e.push(Object(b.jsx)("option",{children:t},t));return e}()}),Object(b.jsx)("p",{style:H(r),children:"Quality"})]})}),Object(b.jsx)("span",{children:Object(b.jsxs)("label",{className:B.a.label,htmlFor:"selectedHeight",children:[Object(b.jsx)("select",{onChange:function(e){n((function(t){return Object(k.a)(Object(k.a)({},t),{},{height:e.target.value||""})}))},value:a,className:B.a.input,id:"selectedHeight",name:"height",min:"25",max:"2000",children:c()}),Object(b.jsx)("p",{style:H(a),children:"Height"})]})}),Object(b.jsx)("span",{children:Object(b.jsxs)("label",{className:B.a.label,htmlFor:"selectedWidth",children:[Object(b.jsx)("select",{onChange:function(e){n((function(t){return Object(k.a)(Object(k.a)({},t),{},{width:e.target.value||""})}))},value:i,className:B.a.input,id:"selectedWidth",name:"width",min:"25",max:"2000",filled:i,children:c()}),Object(b.jsx)("p",{style:H(i),children:"Width"})]})})]})}var U=n(24),X=n(7),R=n.n(X),A=function(){return Object(b.jsx)("section",{className:R.a.sectionWrap,children:Object(b.jsxs)("div",{className:R.a.contentWrap,children:[Object(b.jsx)(U.a,{className:R.a.icon}),Object(b.jsx)("h1",{className:R.a.header,children:"Something went wrong!"})]})})};function Y(e){var t=e.children;return e.hasError?Object(b.jsx)(A,{}):t}var K=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)([]),i=Object(c.a)(a,2),o=i[0],l=i[1],u=Object(r.useState)({pre:0,post:0}),p=Object(c.a)(u,2),j=p[0],f=p[1],h=Object(r.useState)(""),O=Object(c.a)(h,2),x=O[0],_=O[1],g=Object(r.useState)(!1),y=Object(c.a)(g,2),N=y[0],W=y[1],F=Object(r.useState)(!1),S=Object(c.a)(F,2),D=S[0],k=S[1],E=Object(r.useState)({height:"",width:"",format:"",quality:""}),C=Object(c.a)(E,2),z=C[0],I=C[1];return Object(b.jsxs)(Y,{hasError:D,children:[Object(b.jsx)(w,{setTotalSize:f,setErrorMsg:_,setFiles:s,clearDownload:function(){return l([])}}),Object(b.jsx)(Q,{options:z,setOptions:I}),Object(b.jsx)(T,{files:n,setErrorMsg:_,setTotalSize:f,setFileDownload:l,processing:N,setProcessing:W,options:z,setError:k}),Object(b.jsx)(v,{file:o}),Object(b.jsx)(m,{fileSize:j}),Object(b.jsx)(M,{msg:x}),Object(b.jsx)(d,{files:n,setFiles:s,setTotalSize:f}),Object(b.jsx)(J,{loading:N})]})};n(33);i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))}],[[34,1,2]]]);
//# sourceMappingURL=main.23f6dcff.chunk.js.map