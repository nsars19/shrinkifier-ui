(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={link:"ZipDownload_link__1RjXH",linkWrap:"ZipDownload_linkWrap__YafmD",dlWrap:"ZipDownload_dlWrap__3MGyZ"}},function(e,t,n){e.exports={button:"SubmitFiles_button__35Asu",outline:"SubmitFiles_outline__176xs",buttonContainer:"SubmitFiles_buttonContainer__1XsmP"}},function(e,t,n){e.exports={loadWrap:"Loader_loadWrap__1x67o",border:"Loader_border__gqq8k",icon:"Loader_icon__3dCIC",spin:"Loader_spin__1X-nh"}},,function(e,t,n){e.exports={list:"FileList_list__3IaGs",listWrap:"FileList_listWrap__3laGr"}},,function(e,t,n){e.exports={info:"FileInfo_info__2lSWD",infoWrap:"FileInfo_infoWrap__2fsCB"}},function(e,t,n){e.exports={label:"FileInput_label__3etJ-",icon:"FileInput_icon__12Som"}},,function(e,t,n){e.exports={message:"ErrorMessage_message__qjfBA",errorWrap:"ErrorMessage_errorWrap__1snZB"}},,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),a=n(18),i=n.n(a),o=n(3),c=n(19),l=n.n(c),u=n(11),p=n.n(u),j=n(20),b=n(1);function f(e){var t=e.files,n=e.setFiles,r=e.setTotalSize,s=function(e){return e.reduce((function(e,t){return e+t.size}),0)},a=function(e){return function(){var a=t.filter((function(t){return t.name!==e}));n(a),r({pre:s(a),post:0})}};return Object(b.jsx)("section",{className:p.a.listWrap,children:Object(b.jsx)("ul",{className:p.a.list,children:t.map((function(e){var t=e.name;return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:t}),Object(b.jsx)("span",{onClick:a(t),children:Object(b.jsx)(j.a,{})})]},l()())}))})})}var d=n(12),_=n.n(d),x=n(13),O=n.n(x);function m(e){var t=e.fileSize,n=t.pre,r=t.post,s=parseFloat((n-r)/n*100).toFixed(2),a=Object(b.jsx)("p",{children:n&&r?"The files are ".concat(s,"% smaller!"):""}),i=Object(b.jsx)("p",{children:r?"processed total: "+_()(r):""}),o=Object(b.jsx)("p",{children:n?"preprocessed total: "+_()(n):""});return Object(b.jsx)("section",{className:O.a.infoWrap,children:Object(b.jsxs)("div",{className:O.a.info,style:{display:n?"block":"none"},children:[a,i,o]})})}var h=n(7),g=n.n(h);function v(e){var t=e.file;return Object(b.jsx)("section",{className:g.a.dlWrap,style:{display:t.length?"grid":"none"},children:t.map((function(e){return Object(b.jsx)("div",{className:g.a.linkWrap,children:Object(b.jsx)("a",{href:e,className:g.a.link,children:e?"Download Files":""})},Date.now())}))})}var F=n(22),y=n(14),S=n.n(y),W=n(6);function w(e){var t=e.setTotalSize,n=e.setErrorMsg,r=e.setFiles,s=e.clearDownload,a=function(e){return function(e){return Object(F.a)(e)}(e).slice(0,50)},i=function(e){return a(e).reduce((function(e,t){return e+t.size}),0)};return Object(b.jsxs)("label",{htmlFor:"file-input",onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var o=e.dataTransfer.files;t({pre:i(o),post:0}),r(a(o)),n(""),s()},className:S.a.label,children:[Object(b.jsx)(W.a,{className:S.a.icon}),Object(b.jsx)("h2",{children:"Drag your .jpg, .png, .gif, .webp files here"}),Object(b.jsx)("input",{id:"file-input",onChange:function(e){var o=e.target.files;r(a(o)),t({pre:i(o),post:0}),n(""),s()},type:"file",multiple:!0,accept:".png,.jpg,.jpeg,.gif,.webp"})]})}var D=n(15),N=n.n(D),k=n(17),z=n(21),C=n(8),T=n.n(C);function E(e){var t=e.files,n=e.setErrorMsg,r=e.setTotalSize,s=e.setFileDownload,a=e.processing,i=e.setProcessing,o=function(){var e=Object(z.a)(N.a.mark((function e(){var a,o,c,l,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.every((function(e){return"image"===e.type.split("/")[0]}))){e.next=5;break}return n("You can only upload images. Please remove anything besides image files."),e.abrupt("return");case 5:if(0!==t.length){e.next=8;break}return n("Try adding some images first!"),e.abrupt("return");case 8:return n(""),i(!0),a=new FormData,t.forEach((function(e){return a.append("files",e)})),e.next=14,fetch("https://young-oasis-86497.herokuapp.com/",{method:"post",mode:"cors",body:a});case 14:return o=e.sent,e.next=17,o.blob();case 17:c=e.sent,l=new File([c],"tinified.zip"),u=URL.createObjectURL(l),r((function(e){return Object(k.a)(Object(k.a)({},e),{},{post:c.size})})),s([u]),i(!1);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("section",{className:T.a.buttonContainer,children:Object(b.jsx)("div",{className:T.a.outline,children:Object(b.jsx)("button",{onClick:o,className:T.a.button,disabled:a,children:"Compress Images"})})})}var I=n(16),L=n.n(I);function M(e){var t=e.msg;return Object(b.jsx)("section",{className:L.a.errorWrap,style:{display:t?"flex":"none"},children:Object(b.jsx)("p",{className:L.a.message,children:t})})}var Z=n(9),B=n.n(Z);function P(e){var t=e.loading;return Object(b.jsx)("section",{className:B.a.loadWrap,style:{display:t?"grid":"none"},children:Object(b.jsx)("div",{className:B.a.border,children:Object(b.jsx)(W.b,{className:B.a.icon})})})}var q=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)([]),i=Object(o.a)(a,2),c=i[0],l=i[1],u=Object(r.useState)({pre:0,post:0}),p=Object(o.a)(u,2),j=p[0],d=p[1],_=Object(r.useState)(""),x=Object(o.a)(_,2),O=x[0],h=x[1],g=Object(r.useState)(!1),F=Object(o.a)(g,2),y=F[0],S=F[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{setTotalSize:d,setErrorMsg:h,setFiles:s,clearDownload:function(){return l([])}}),Object(b.jsx)(E,{files:n,setErrorMsg:h,setTotalSize:d,setFileDownload:l,processing:y,setProcessing:S}),Object(b.jsx)(v,{file:c}),Object(b.jsx)(m,{fileSize:j}),Object(b.jsx)(M,{msg:O}),Object(b.jsx)(f,{files:n,setFiles:s,setTotalSize:d}),Object(b.jsx)(P,{loading:y})]})};n(30);i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.b239ffe9.chunk.js.map