{"version":3,"sources":["components/ZipDownload/ZipDownload.module.scss","components/SubmitFiles/SubmitFiles.module.scss","components/Loader/Loader.module.scss","components/FileList/FileList.module.scss","components/FileInfo/FileInfo.module.scss","components/FileInput/FileInput.module.scss","components/ErrorMessage/ErrorMessage.module.scss","components/FileList/FileList.js","components/FileInfo/FileInfo.js","components/ZipDownload/ZipDownload.js","components/FileInput/FileInput.js","components/SubmitFiles/SubmitFiles.js","components/ErrorMessage/ErrorMessage.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","FileList","files","setFiles","setTotalSize","sizeOf","reduce","total","curr","size","removeFile","name","newFiles","filter","file","pre","post","className","styles","listWrap","list","map","onClick","uniqid","FileInfo","fileSize","pctDiff","parseFloat","toFixed","pctSaved","originalSize","filesize","processedSize","infoWrap","info","style","display","ZipDownload","dlWrap","length","url","linkWrap","href","link","Date","now","FileInput","props","setErrorMsg","clearDownload","slicedArray","convertToArray","slice","htmlFor","onDragOver","e","preventDefault","onDrop","dataTransfer","label","icon","id","onChange","target","type","multiple","accept","SubmitFiles","totalSize","setFileDownload","processing","setProcessing","onSubmit","a","every","split","formData","FormData","forEach","append","fetch","method","mode","body","res","blob","data","URL","createObjectURL","buttonContainer","outline","button","disabled","ErrorMessage","msg","errorWrap","message","Loader","loading","loadWrap","border","App","useState","fileDownload","errorMsg","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.439de538.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"ZipDownload_link__1RjXH\",\"linkWrap\":\"ZipDownload_linkWrap__YafmD\",\"dlWrap\":\"ZipDownload_dlWrap__3MGyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SubmitFiles_button__35Asu\",\"outline\":\"SubmitFiles_outline__176xs\",\"buttonContainer\":\"SubmitFiles_buttonContainer__1XsmP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadWrap\":\"Loader_loadWrap__1x67o\",\"border\":\"Loader_border__gqq8k\",\"icon\":\"Loader_icon__3dCIC\",\"spin\":\"Loader_spin__1X-nh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"FileList_list__3IaGs\",\"listWrap\":\"FileList_listWrap__3laGr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"FileInfo_info__2lSWD\",\"infoWrap\":\"FileInfo_infoWrap__2fsCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"FileInput_label__3etJ-\",\"icon\":\"FileInput_icon__12Som\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"ErrorMessage_message__qjfBA\",\"errorWrap\":\"ErrorMessage_errorWrap__1snZB\"};","import uniqid from \"uniqid\";\nimport styles from \"./FileList.module.scss\";\nimport { RiDeleteBack2Fill } from \"react-icons/ri\";\n\nexport default function FileList({ files, setFiles, setTotalSize }) {\n  const sizeOf = (files) =>\n    files.reduce((total, curr) => (total += curr.size), 0);\n\n  const removeFile = (name) => {\n    return () => {\n      const newFiles = files.filter((file) => file.name !== name);\n      setFiles(newFiles);\n      setTotalSize({ pre: sizeOf(newFiles), post: 0 });\n    };\n  };\n\n  return (\n    <section className={styles.listWrap}>\n      <ul className={styles.list}>\n        {files.map(({ name }) => (\n          <li key={uniqid()}>\n            <p>{name}</p>\n            <span onClick={removeFile(name)}>\n              <RiDeleteBack2Fill />\n            </span>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n}\n","import filesize from \"filesize\";\nimport styles from \"./FileInfo.module.scss\";\n\nexport default function FileInfo({ fileSize: { pre, post } }) {\n  const pctDiff = parseFloat(((pre - post) / pre) * 100).toFixed(2);\n  const pctSaved = (\n    <p>{pre && post ? `The files are ${pctDiff}% smaller!` : \"\"}</p>\n  );\n\n  const originalSize = (\n    <p>{post ? \"processed total: \" + filesize(post) : \"\"}</p>\n  );\n\n  const processedSize = (\n    <p>{pre ? \"preprocessed total: \" + filesize(pre) : \"\"}</p>\n  );\n\n  return (\n    <section className={styles.infoWrap}>\n      <div\n        className={styles.info}\n        style={{\n          display: pre ? \"block\" : \"none\",\n        }}\n      >\n        {pctSaved}\n        {originalSize}\n        {processedSize}\n      </div>\n    </section>\n  );\n}\n","import styles from \"./ZipDownload.module.scss\";\n\nexport default function ZipDownload({ file }) {\n  return (\n    <section\n      className={styles.dlWrap}\n      style={{\n        display: file.length ? \"grid\" : \"none\",\n      }}\n    >\n      {file.map((url) => (\n        <div className={styles.linkWrap} key={Date.now()}>\n          <a href={url} className={styles.link}>\n            {url ? \"Download Files\" : \"\"}\n          </a>\n        </div>\n      ))}\n    </section>\n  );\n}\n","import styles from \"./FileInput.module.scss\";\nimport { FaFileImage } from \"react-icons/fa\";\n\nexport default function FileInput(props) {\n  const { setTotalSize, setErrorMsg, setFiles, clearDownload } = props;\n\n  const convertToArray = (files) => [...files];\n  const slicedArray = (files) => convertToArray(files).slice(0, 50);\n  const sizeOf = (files) =>\n    slicedArray(files).reduce((total, curr) => (total += curr.size), 0);\n\n  const onDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n\n    setTotalSize({ pre: sizeOf(files), post: 0 });\n    setFiles(slicedArray(files));\n    setErrorMsg(\"\");\n    clearDownload();\n  };\n\n  const onFileInput = (e) => {\n    const { files } = e.target;\n    setFiles(slicedArray(files));\n    setTotalSize({ pre: sizeOf(files), post: 0 });\n    setErrorMsg(\"\");\n    clearDownload();\n  };\n\n  return (\n    <label\n      htmlFor=\"file-input\"\n      onDragOver={onDragOver}\n      onDrop={onDrop}\n      className={styles.label}\n    >\n      <FaFileImage className={styles.icon} />\n      <h2>Drag your .jpg, .png, .gif, .webp files here</h2>\n      <input\n        id=\"file-input\"\n        onChange={onFileInput}\n        type=\"file\"\n        multiple\n        accept=\".png,.jpg,.jpeg,.gif,.webp\"\n      />\n    </label>\n  );\n}\n","import styles from \"./SubmitFiles.module.scss\";\n\nexport default function SubmitFiles(props) {\n  const {\n    files,\n    setErrorMsg,\n    totalSize,\n    setTotalSize,\n    setFileDownload,\n    processing,\n    setProcessing,\n  } = props;\n\n  const goodFileTypes = () =>\n    files.every((file) => {\n      return file.type.split(\"/\")[0] === \"image\";\n    });\n\n  const onSubmit = async () => {\n    if (!goodFileTypes()) {\n      setErrorMsg(\n        \"You can only upload images. Please remove anything besides image files.\"\n      );\n      return;\n    } else if (files.length === 0) {\n      setErrorMsg(\"Try adding some images first!\");\n      return;\n    }\n\n    setErrorMsg(\"\");\n    setProcessing(true);\n\n    const formData = new FormData();\n\n    files.forEach((file) => formData.append(\"files\", file));\n\n    const res = await fetch(\"https://young-oasis-86497.herokuapp.com/\", {\n      method: \"post\",\n      mode: \"cors\",\n      body: formData,\n    });\n\n    const data = await res.blob();\n    const url = URL.createObjectURL(data);\n\n    setTotalSize({ ...totalSize, post: data.size });\n    setFileDownload([url]);\n    setProcessing(false);\n  };\n\n  return (\n    <section className={styles.buttonContainer}>\n      <div className={styles.outline}>\n        <button\n          onClick={onSubmit}\n          className={styles.button}\n          disabled={processing}\n        >\n          Compress Images\n        </button>\n      </div>\n    </section>\n  );\n}\n","import styles from \"./ErrorMessage.module.scss\";\n\nexport default function ErrorMessage({ msg }) {\n  return (\n    <section\n      className={styles.errorWrap}\n      style={{\n        display: msg ? \"flex\" : \"none\",\n      }}\n    >\n      <p className={styles.message}>{msg}</p>\n    </section>\n  );\n}\n","import { FaSpinner } from \"react-icons/fa\";\nimport styles from \"./Loader.module.scss\";\n\nexport default function Loader({ loading }) {\n  return (\n    <section\n      className={styles.loadWrap}\n      style={{\n        display: loading ? \"grid\" : \"none\",\n      }}\n    >\n      <div className={styles.border}>\n        <FaSpinner className={styles.icon} />\n      </div>\n    </section>\n  );\n}\n","import React, { useState } from \"react\";\nimport FileList from \"./components/FileList/FileList\";\nimport FileInfo from \"./components/FileInfo/FileInfo\";\nimport ZipDownload from \"./components/ZipDownload/ZipDownload\";\nimport FileInput from \"./components/FileInput/FileInput\";\nimport SubmitFiles from \"./components/SubmitFiles/SubmitFiles\";\nimport ErrorMessage from \"./components/ErrorMessage/ErrorMessage\";\nimport Loader from \"./components/Loader/Loader\";\n\nfunction App() {\n  const [files, setFiles] = useState([]);\n  const [fileDownload, setFileDownload] = useState([]);\n  const [totalSize, setTotalSize] = useState({ pre: 0, post: 0 });\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [processing, setProcessing] = useState(false);\n\n  const clearDownload = () => setFileDownload([]);\n\n  return (\n    <>\n      <FileInput\n        setTotalSize={setTotalSize}\n        setErrorMsg={setErrorMsg}\n        setFiles={setFiles}\n        clearDownload={clearDownload}\n      />\n      <SubmitFiles\n        files={files}\n        setErrorMsg={setErrorMsg}\n        totalSize={totalSize}\n        setTotalSize={setTotalSize}\n        setFileDownload={setFileDownload}\n        processing={processing}\n        setProcessing={setProcessing}\n      />\n      <ZipDownload file={fileDownload} />\n      <FileInfo fileSize={totalSize} />\n      <ErrorMessage msg={errorMsg} />\n      <FileList files={files} setFiles={setFiles} setTotalSize={setTotalSize} />\n      <Loader loading={processing} />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}