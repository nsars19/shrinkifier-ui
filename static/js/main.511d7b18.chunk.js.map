{"version":3,"sources":["components/ZipDownload/ZipDownload.module.scss","components/SubmitFiles/SubmitFiles.module.scss","components/Loader/Loader.module.scss","components/FileList/FileList.module.scss","components/FileInfo/FileInfo.module.scss","components/FileInput/FileInput.module.scss","components/ErrorMessage/ErrorMessage.module.scss","components/FileList/FileList.js","components/FileInfo/FileInfo.js","components/ZipDownload/ZipDownload.js","components/FileInput/FileInput.js","components/SubmitFiles/SubmitFiles.js","components/ErrorMessage/ErrorMessage.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","FileList","files","className","styles","listWrap","list","map","name","uniqid","FileInfo","fileSize","pre","post","pctDiff","parseFloat","toFixed","pctSaved","originalSize","filesize","processedSize","infoWrap","info","style","display","ZipDownload","file","dlWrap","length","url","linkWrap","href","link","Date","now","FileInput","props","setTotalSize","setErrorMsg","setFiles","clearDownload","slicedArray","convertToArray","slice","sizeOf","reduce","total","curr","size","htmlFor","onDragOver","e","preventDefault","onDrop","dataTransfer","label","icon","id","onChange","target","type","multiple","accept","SubmitFiles","totalSize","setFileDownload","processing","setProcessing","onSubmit","a","every","split","formData","FormData","forEach","append","fetch","method","mode","body","res","blob","data","URL","createObjectURL","buttonContainer","outline","onClick","button","disabled","ErrorMessage","msg","errorWrap","message","Loader","loading","loadWrap","border","App","useState","fileDownload","errorMsg","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.511d7b18.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"ZipDownload_link__1RjXH\",\"linkWrap\":\"ZipDownload_linkWrap__YafmD\",\"dlWrap\":\"ZipDownload_dlWrap__3MGyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SubmitFiles_button__35Asu\",\"outline\":\"SubmitFiles_outline__176xs\",\"buttonContainer\":\"SubmitFiles_buttonContainer__1XsmP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadWrap\":\"Loader_loadWrap__1x67o\",\"border\":\"Loader_border__gqq8k\",\"icon\":\"Loader_icon__3dCIC\",\"spin\":\"Loader_spin__1X-nh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"FileList_list__3IaGs\",\"listWrap\":\"FileList_listWrap__3laGr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"FileInfo_info__2lSWD\",\"infoWrap\":\"FileInfo_infoWrap__2fsCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"FileInput_label__3etJ-\",\"icon\":\"FileInput_icon__12Som\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"ErrorMessage_message__qjfBA\",\"errorWrap\":\"ErrorMessage_errorWrap__1snZB\"};","import uniqid from \"uniqid\";\nimport styles from \"./FileList.module.scss\";\n\nexport default function FileList({ files }) {\n  return (\n    <section className={styles.listWrap}>\n      <ul className={styles.list}>\n        {files.map(({ name }) => (\n          <li key={uniqid()}>{name}</li>\n        ))}\n      </ul>\n    </section>\n  );\n}\n","import filesize from \"filesize\";\nimport styles from \"./FileInfo.module.scss\";\n\nexport default function FileInfo({ fileSize: { pre, post } }) {\n  const pctDiff = parseFloat(((pre - post) / pre) * 100).toFixed(2);\n  const pctSaved = (\n    <p>{pre && post ? `The files are ${pctDiff}% smaller!` : \"\"}</p>\n  );\n\n  const originalSize = (\n    <p>{post ? \"processed total: \" + filesize(post) : \"\"}</p>\n  );\n\n  const processedSize = (\n    <p>{pre ? \"preprocessed total: \" + filesize(pre) : \"\"}</p>\n  );\n\n  return (\n    <section className={styles.infoWrap}>\n      <div\n        className={styles.info}\n        style={{\n          display: pre ? \"block\" : \"none\",\n        }}\n      >\n        {pctSaved}\n        {originalSize}\n        {processedSize}\n      </div>\n    </section>\n  );\n}\n","import styles from \"./ZipDownload.module.scss\";\n\nexport default function ZipDownload({ file }) {\n  return (\n    <section\n      className={styles.dlWrap}\n      style={{\n        display: file.length ? \"grid\" : \"none\",\n      }}\n    >\n      {file.map((url) => (\n        <div className={styles.linkWrap} key={Date.now()}>\n          <a href={url} className={styles.link}>\n            {url ? \"Download Files\" : \"\"}\n          </a>\n        </div>\n      ))}\n    </section>\n  );\n}\n","import styles from \"./FileInput.module.scss\";\nimport { FaFileImage } from \"react-icons/fa\";\n\nexport default function FileInput(props) {\n  const { setTotalSize, setErrorMsg, setFiles, clearDownload } = props;\n\n  const convertToArray = (files) => [...files];\n  const slicedArray = (files) => convertToArray(files).slice(0, 50);\n  const sizeOf = (files) =>\n    slicedArray(files).reduce((total, curr) => (total += curr.size), 0);\n\n  const onDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n\n    setTotalSize({ pre: sizeOf(files), post: 0 });\n    setFiles(slicedArray(files));\n    setErrorMsg(\"\");\n    clearDownload();\n  };\n\n  const onFileInput = (e) => {\n    const { files } = e.target;\n    setFiles(slicedArray(files));\n    setTotalSize({ pre: sizeOf(files), post: 0 });\n    setErrorMsg(\"\");\n    clearDownload();\n  };\n\n  return (\n    <label\n      htmlFor=\"file-input\"\n      onDragOver={onDragOver}\n      onDrop={onDrop}\n      className={styles.label}\n    >\n      <FaFileImage className={styles.icon} />\n      <h2>Drag your .jpg, .png, .gif, .webp files here</h2>\n      <input\n        id=\"file-input\"\n        onChange={onFileInput}\n        type=\"file\"\n        multiple\n        accept=\".png,.jpg,.jpeg,.gif,.webp\"\n      />\n    </label>\n  );\n}\n","import styles from \"./SubmitFiles.module.scss\";\n\nexport default function SubmitFiles(props) {\n  const {\n    files,\n    setErrorMsg,\n    totalSize,\n    setTotalSize,\n    setFileDownload,\n    processing,\n    setProcessing,\n  } = props;\n\n  const goodFileTypes = () =>\n    files.every((file) => {\n      return file.type.split(\"/\")[0] === \"image\";\n    });\n\n  const onSubmit = async () => {\n    if (!goodFileTypes()) {\n      setErrorMsg(\n        \"You can only upload images. Please remove anything besides image files.\"\n      );\n      return;\n    } else if (files.length === 0) {\n      setErrorMsg(\"Try adding some images first!\");\n      return;\n    }\n\n    setProcessing(true);\n\n    const formData = new FormData();\n\n    files.forEach((file) => formData.append(\"files\", file));\n\n    const res = await fetch(\"https://young-oasis-86497.herokuapp.com/\", {\n      method: \"post\",\n      mode: \"cors\",\n      body: formData,\n    });\n\n    const data = await res.blob();\n    const url = URL.createObjectURL(data);\n\n    setTotalSize({ ...totalSize, post: data.size });\n    setFileDownload([url]);\n    setProcessing(false);\n  };\n\n  return (\n    <section className={styles.buttonContainer}>\n      <div className={styles.outline}>\n        <button\n          onClick={onSubmit}\n          className={styles.button}\n          disabled={processing}\n        >\n          Compress Images\n        </button>\n      </div>\n    </section>\n  );\n}\n","import styles from \"./ErrorMessage.module.scss\";\n\nexport default function ErrorMessage({ msg }) {\n  return (\n    <section\n      className={styles.errorWrap}\n      style={{\n        display: msg ? \"block\" : \"none\",\n      }}\n    >\n      <p className={styles.message}>{msg}</p>\n    </section>\n  );\n}\n","import { FaSpinner } from \"react-icons/fa\";\nimport styles from \"./Loader.module.scss\";\n\nexport default function Loader({ loading }) {\n  return (\n    <section\n      className={styles.loadWrap}\n      style={{\n        display: loading ? \"grid\" : \"none\",\n      }}\n    >\n      <div className={styles.border}>\n        <FaSpinner className={styles.icon} />\n      </div>\n    </section>\n  );\n}\n","import React, { useState } from \"react\";\nimport FileList from \"./components/FileList/FileList\";\nimport FileInfo from \"./components/FileInfo/FileInfo\";\nimport ZipDownload from \"./components/ZipDownload/ZipDownload\";\nimport FileInput from \"./components/FileInput/FileInput\";\nimport SubmitFiles from \"./components/SubmitFiles/SubmitFiles\";\nimport ErrorMessage from \"./components/ErrorMessage/ErrorMessage\";\nimport Loader from \"./components/Loader/Loader\";\n\nfunction App() {\n  const [files, setFiles] = useState([]);\n  const [fileDownload, setFileDownload] = useState([]);\n  const [totalSize, setTotalSize] = useState({ pre: 0, post: 0 });\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [processing, setProcessing] = useState(false);\n\n  const clearDownload = () => setFileDownload([]);\n\n  return (\n    <>\n      <FileInput\n        setTotalSize={setTotalSize}\n        setErrorMsg={setErrorMsg}\n        setFiles={setFiles}\n        clearDownload={clearDownload}\n      />\n      <SubmitFiles\n        files={files}\n        setErrorMsg={setErrorMsg}\n        totalSize={totalSize}\n        setTotalSize={setTotalSize}\n        setFileDownload={setFileDownload}\n        processing={processing}\n        setProcessing={setProcessing}\n      />\n      <ErrorMessage msg={errorMsg} />\n      <ZipDownload file={fileDownload} />\n      <FileInfo fileSize={totalSize} />\n      <FileList files={files} />\n      <Loader loading={processing} />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}