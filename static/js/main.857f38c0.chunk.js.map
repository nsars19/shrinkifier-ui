{"version":3,"sources":["components/Options/Options.module.scss","ErrorBoundary/components/ErrorPage.module.scss","components/ZipDownload/ZipDownload.module.scss","components/SubmitFiles/SubmitFiles.module.scss","components/Loader/Loader.module.scss","components/FileList/FileList.module.scss","components/FileInfo/FileInfo.module.scss","components/FileInput/FileInput.module.scss","components/ErrorMessage/ErrorMessage.module.scss","components/FileList/FileList.js","components/FileInfo/FileInfo.js","components/ZipDownload/ZipDownload.js","components/FileInput/FileInput.js","components/SubmitFiles/SubmitFiles.js","components/ErrorMessage/ErrorMessage.js","components/Loader/Loader.js","components/Options/sizes.js","components/Options/Options.js","ErrorBoundary/components/ErrorPage.js","ErrorBoundary/ErrorBoundary.js","App.js","index.js"],"names":["module","exports","FileList","files","setFiles","setTotalSize","sizeOf","reduce","total","curr","size","removeFile","name","newFiles","filter","file","pre","post","className","styles","listWrap","list","map","onClick","uniqid","FileInfo","fileSize","pctDiff","parseFloat","toFixed","originalSize","filesize","processedSize","infoWrap","info","style","display","ZipDownload","dlWrap","length","url","linkWrap","href","link","Date","now","FileInput","props","setErrorMsg","clearDownload","slicedArray","convertToArray","slice","preventDefault","e","htmlFor","onDragOver","onDrop","dataTransfer","prev","concat","onDropCapture","label","icon","id","onChange","target","type","multiple","accept","SubmitFiles","setFileDownload","processing","setProcessing","options","setError","onSubmit","a","every","split","formData","FormData","append","JSON","stringify","forEach","fetch","process","method","mode","body","res","status","blob","data","File","URL","createObjectURL","buttonContainer","outline","button","disabled","ErrorMessage","msg","errorWrap","message","Loader","loading","loadWrap","border","sizes","active","top","left","Options","setOptions","quality","format","height","width","imgSizes","n","optionsWrap","value","select","opts","push","qualityInput","input","min","max","filled","ErrorPage","sectionWrap","contentWrap","header","ErrorBoundary","children","hasError","App","useState","fileDownload","totalSize","errorMsg","hasServerError","setServerError","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.857f38c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"optionsWrap\":\"Options_optionsWrap__2GMap\",\"select\":\"Options_select__2gdDD\",\"label\":\"Options_label__3FhOh\",\"input\":\"Options_input__1vXfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionWrap\":\"ErrorPage_sectionWrap__5Qamu\",\"contentWrap\":\"ErrorPage_contentWrap__UI7Em\",\"header\":\"ErrorPage_header__LfnzJ\",\"icon\":\"ErrorPage_icon__bh1ku\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"ZipDownload_link__1RjXH\",\"linkWrap\":\"ZipDownload_linkWrap__YafmD\",\"dlWrap\":\"ZipDownload_dlWrap__3MGyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SubmitFiles_button__35Asu\",\"outline\":\"SubmitFiles_outline__176xs\",\"buttonContainer\":\"SubmitFiles_buttonContainer__1XsmP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadWrap\":\"Loader_loadWrap__1x67o\",\"border\":\"Loader_border__gqq8k\",\"icon\":\"Loader_icon__3dCIC\",\"spin\":\"Loader_spin__1X-nh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"FileList_list__3IaGs\",\"listWrap\":\"FileList_listWrap__3laGr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"FileInfo_info__2lSWD\",\"infoWrap\":\"FileInfo_infoWrap__2fsCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"FileInput_label__3etJ-\",\"icon\":\"FileInput_icon__12Som\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"ErrorMessage_message__qjfBA\",\"errorWrap\":\"ErrorMessage_errorWrap__1snZB\"};","import uniqid from \"uniqid\";\nimport styles from \"./FileList.module.scss\";\nimport { RiDeleteBack2Fill } from \"react-icons/ri\";\n\nexport default function FileList({ files, setFiles, setTotalSize }) {\n  const sizeOf = (files) =>\n    files.reduce((total, curr) => (total += curr.size), 0);\n\n  const removeFile = (name) => {\n    return () => {\n      const newFiles = files.filter((file) => file.name !== name);\n      setFiles(newFiles);\n      setTotalSize({ pre: sizeOf(newFiles), post: 0 });\n    };\n  };\n\n  return (\n    <section className={styles.listWrap}>\n      <ul className={styles.list}>\n        {files.map(({ name }) => (\n          <li key={uniqid()}>\n            <p>{name}</p>\n            <span onClick={removeFile(name)}>\n              <RiDeleteBack2Fill />\n            </span>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n}\n","import filesize from \"filesize\";\nimport styles from \"./FileInfo.module.scss\";\n\nexport default function FileInfo({ fileSize: { pre, post } }) {\n  const pctDiff = parseFloat(((pre - post) / pre) * 100).toFixed(2);\n  const pctSaved = () => {\n    if (pctDiff > 0) {\n      return <p>{pre && post ? `The files are ${pctDiff}% smaller!` : \"\"}</p>;\n    } else {\n      return (\n        <p>{pre && post ? `The files are ${pctDiff * -1}% larger!` : \"\"}</p>\n      );\n    }\n  };\n\n  const originalSize = (\n    <p>{post ? \"processed total: \" + filesize(post) : \"\"}</p>\n  );\n\n  const processedSize = (\n    <p>{pre ? \"preprocessed total: \" + filesize(pre) : \"\"}</p>\n  );\n\n  return (\n    <section className={styles.infoWrap}>\n      <div\n        className={styles.info}\n        style={{\n          display: pre ? \"block\" : \"none\",\n        }}\n      >\n        {pctSaved()}\n        {originalSize}\n        {processedSize}\n      </div>\n    </section>\n  );\n}\n","import styles from \"./ZipDownload.module.scss\";\n\nexport default function ZipDownload({ file }) {\n  return (\n    <section\n      className={styles.dlWrap}\n      style={{\n        display: file.length ? \"grid\" : \"none\",\n      }}\n    >\n      {file.map((url) => (\n        <div className={styles.linkWrap} key={Date.now()}>\n          <a href={url} className={styles.link}>\n            {url ? \"Download Files\" : \"\"}\n          </a>\n        </div>\n      ))}\n    </section>\n  );\n}\n","import styles from \"./FileInput.module.scss\";\nimport { FaFileImage } from \"react-icons/fa\";\n\nexport default function FileInput(props) {\n  const { setTotalSize, setErrorMsg, setFiles, clearDownload } = props;\n\n  const convertToArray = (files) => [...files];\n  const slicedArray = (files) => convertToArray(files).slice(0, 50);\n  const sizeOf = (files) =>\n    slicedArray(files).reduce((total, curr) => (total += curr.size), 0);\n\n  const preventDefault = (e) => e.preventDefault();\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n\n    setFiles((prev) => prev.concat(slicedArray(files)).slice(0, 50));\n    setTotalSize(({ pre }) => ({ pre: pre + sizeOf(files), post: 0 }));\n    setErrorMsg(\"\");\n    clearDownload();\n  };\n\n  const onFileInput = (e) => {\n    const { files } = e.target;\n    setFiles(slicedArray(files));\n    setTotalSize({ pre: sizeOf(files), post: 0 });\n    setErrorMsg(\"\");\n    clearDownload();\n  };\n\n  return (\n    <label\n      htmlFor=\"file-input\"\n      onDragOver={preventDefault}\n      onDrop={onDrop}\n      onDropCapture={preventDefault}\n      className={styles.label}\n    >\n      <FaFileImage className={styles.icon} />\n      <h2>Drag your .jpg, .png, .gif, .webp files here</h2>\n      <input\n        id=\"file-input\"\n        onChange={onFileInput}\n        type=\"file\"\n        multiple\n        accept=\".png,.jpg,.jpeg,.gif,.webp\"\n      />\n    </label>\n  );\n}\n","import styles from \"./SubmitFiles.module.scss\";\n\nexport default function SubmitFiles(props) {\n  const {\n    files,\n    setErrorMsg,\n    setTotalSize,\n    setFileDownload,\n    processing,\n    setProcessing,\n    options,\n    setError,\n  } = props;\n\n  const goodFileTypes = () =>\n    files.every((file) => {\n      return file.type.split(\"/\")[0] === \"image\";\n    });\n\n  const onSubmit = async () => {\n    if (!goodFileTypes()) {\n      setErrorMsg(\n        \"You can only upload images. Please remove anything besides image files.\"\n      );\n      return;\n    } else if (files.length === 0) {\n      setErrorMsg(\"Try adding some images first!\");\n      return;\n    }\n\n    setErrorMsg(\"\");\n    setProcessing(true);\n\n    const formData = new FormData();\n\n    formData.append(\"options\", JSON.stringify(options));\n    files.forEach((file) => formData.append(\"files\", file));\n\n    const res = await fetch(process.env.REACT_APP_API_ENDPOINT, {\n      method: \"post\",\n      mode: \"cors\",\n      body: formData,\n    });\n\n    if (res.status === 500) {\n      setError(true);\n    } else {\n      const data = await res.blob();\n      const file = new File([data], \"tinified.zip\");\n      const url = URL.createObjectURL(file);\n\n      setTotalSize((prev) => ({ ...prev, post: data.size }));\n      setFileDownload([url]);\n      setProcessing(false);\n    }\n  };\n\n  return (\n    <section className={styles.buttonContainer}>\n      <div className={styles.outline}>\n        <button\n          onClick={onSubmit}\n          className={styles.button}\n          disabled={processing}\n        >\n          Compress Images\n        </button>\n      </div>\n    </section>\n  );\n}\n","import styles from \"./ErrorMessage.module.scss\";\n\nexport default function ErrorMessage({ msg }) {\n  return (\n    <section\n      className={styles.errorWrap}\n      style={{\n        display: msg ? \"flex\" : \"none\",\n      }}\n    >\n      <p className={styles.message}>{msg}</p>\n    </section>\n  );\n}\n","import { FaSpinner } from \"react-icons/fa\";\nimport styles from \"./Loader.module.scss\";\n\nexport default function Loader({ loading }) {\n  return (\n    <section\n      className={styles.loadWrap}\n      style={{\n        display: loading ? \"grid\" : \"none\",\n      }}\n    >\n      <div className={styles.border}>\n        <FaSpinner className={styles.icon} />\n      </div>\n    </section>\n  );\n}\n","export const sizes = [\n  \"\",\n  10,\n  20,\n  30,\n  40,\n  50,\n  60,\n  64,\n  90,\n  100,\n  120,\n  125,\n  200,\n  300,\n  360,\n  420,\n  440,\n  468,\n  600,\n  720,\n  768,\n  800,\n  900,\n  1080,\n  1280,\n  1920,\n];\n","import styles from \"./Options.module.scss\";\nimport { sizes } from \"./sizes\";\n\nconst style = (active) => {\n  return {\n    top: active ? \"-10px\" : \"14px\",\n    left: active ? \"4px\" : \"8px\",\n  };\n};\n\nexport default function Options({ options, setOptions }) {\n  const { quality, format, height, width } = options;\n\n  const onFileTypeChange = (e) => {\n    setOptions((prev) => ({ ...prev, format: e.target.value }));\n  };\n\n  const onHeightChange = (e) => {\n    setOptions((prev) => ({ ...prev, height: e.target.value || \"\" }));\n  };\n\n  const onWidthChange = (e) => {\n    setOptions((prev) => ({ ...prev, width: e.target.value || \"\" }));\n  };\n\n  const onQualityChange = (e) => {\n    setOptions((prev) => ({ ...prev, quality: e.target.value }));\n  };\n\n  const qualityInput = () => {\n    const opts = [<option key=\"null\"></option>];\n    for (let n = 10; n <= 100; n += 10) {\n      opts.push(<option key={n}>{n}</option>);\n    }\n\n    return opts;\n  };\n\n  const imgSizes = () => {\n    return sizes.map((n) => <option key={n}>{n}</option>);\n  };\n\n  return (\n    <section className={styles.optionsWrap}>\n      <span>\n        <label className={styles.label} htmlFor=\"fileOptions\">\n          <select\n            onChange={onFileTypeChange}\n            id=\"fileOptions\"\n            name=\"fileOptions\"\n            className={styles.select}\n            value={format}\n          >\n            <option></option>\n            <option>jpeg</option>\n            <option>webp</option>\n            <option>png</option>\n          </select>\n          <p style={style(format)}>File Type</p>\n        </label>\n      </span>\n      <span>\n        <label className={styles.label} htmlFor=\"inputQuantity\">\n          <select\n            onChange={onQualityChange}\n            id=\"inputQuantity\"\n            name=\"quantity\"\n            className={styles.select}\n            value={quality}\n          >\n            {qualityInput()}\n          </select>\n          <p style={style(quality)}>Quality</p>\n        </label>\n      </span>\n      <span>\n        <label className={styles.label} htmlFor=\"selectedHeight\">\n          <select\n            onChange={onHeightChange}\n            value={height}\n            className={styles.input}\n            id=\"selectedHeight\"\n            name=\"height\"\n            min=\"25\"\n            max=\"2000\"\n          >\n            {imgSizes()}\n          </select>\n          <p style={style(height)}>Height</p>\n        </label>\n      </span>\n      <span>\n        <label className={styles.label} htmlFor=\"selectedWidth\">\n          <select\n            onChange={onWidthChange}\n            value={width}\n            className={styles.input}\n            id=\"selectedWidth\"\n            name=\"width\"\n            min=\"25\"\n            max=\"2000\"\n            filled={width}\n          >\n            {imgSizes()}\n          </select>\n          <p style={style(width)}>Width</p>\n        </label>\n      </span>\n    </section>\n  );\n}\n","import { BiErrorAlt } from \"react-icons/bi\";\nimport styles from \"./ErrorPage.module.scss\";\n\nexport const ErrorPage = () => {\n  return (\n    <section className={styles.sectionWrap}>\n      <div className={styles.contentWrap}>\n        <BiErrorAlt className={styles.icon} />\n        <h1 className={styles.header}>Something went wrong!</h1>\n      </div>\n    </section>\n  );\n};\n","import { ErrorPage } from \"./components/ErrorPage\";\n\nexport default function ErrorBoundary({ children, hasError }) {\n  return hasError ? <ErrorPage /> : children;\n}\n","import React, { useState } from \"react\";\nimport FileList from \"./components/FileList/FileList\";\nimport FileInfo from \"./components/FileInfo/FileInfo\";\nimport ZipDownload from \"./components/ZipDownload/ZipDownload\";\nimport FileInput from \"./components/FileInput/FileInput\";\nimport SubmitFiles from \"./components/SubmitFiles/SubmitFiles\";\nimport ErrorMessage from \"./components/ErrorMessage/ErrorMessage\";\nimport Loader from \"./components/Loader/Loader\";\nimport Options from \"./components/Options/Options\";\nimport ErrorBoundary from \"./ErrorBoundary/ErrorBoundary\";\n\nfunction App() {\n  const [files, setFiles] = useState([]);\n  const [fileDownload, setFileDownload] = useState([]);\n  const [totalSize, setTotalSize] = useState({ pre: 0, post: 0 });\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [processing, setProcessing] = useState(false);\n  const [hasServerError, setServerError] = useState(false);\n  const [options, setOptions] = useState({\n    height: \"\",\n    width: \"\",\n    format: \"\",\n    quality: \"\",\n  });\n\n  const clearDownload = () => setFileDownload([]);\n\n  return (\n    <ErrorBoundary hasError={hasServerError}>\n      <FileInput\n        setTotalSize={setTotalSize}\n        setErrorMsg={setErrorMsg}\n        setFiles={setFiles}\n        clearDownload={clearDownload}\n      />\n      <Options options={options} setOptions={setOptions} />\n      <SubmitFiles\n        files={files}\n        setErrorMsg={setErrorMsg}\n        setTotalSize={setTotalSize}\n        setFileDownload={setFileDownload}\n        processing={processing}\n        setProcessing={setProcessing}\n        options={options}\n        setError={setServerError}\n      />\n      <ZipDownload file={fileDownload} />\n      <FileInfo fileSize={totalSize} />\n      <ErrorMessage msg={errorMsg} />\n      <FileList files={files} setFiles={setFiles} setTotalSize={setTotalSize} />\n      <Loader loading={processing} />\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}